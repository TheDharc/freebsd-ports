--- messageviewer/CMakeLists.txt.orig	2015-07-21 15:21:30 UTC
+++ messageviewer/CMakeLists.txt
@@ -24,7 +24,12 @@ endif()

 configure_file(settings/messageviewer.kcfg.cmake ${CMAKE_CURRENT_BINARY_DIR}/messageviewer.kcfg)

-check_include_files(sys/inotify.h SYS_INOTIFY_H_FOUND)
+#Find inotify on FreeBSD
+find_package(Libinotify)
+set_package_properties(Libinotify PROPERTIES
+                       PURPOSE "Filesystem alteration notifications using inotify")
+set(HAVE_SYS_INOTIFY_H ${LIBINOTIFY_FOUND})
+
 macro_bool_to_01(SYS_INOTIFY_H_FOUND HAVE_SYS_INOTIFY_H)
 configure_file(config-messageviewer.h.cmake ${CMAKE_CURRENT_BINARY_DIR}/config-messageviewer.h)

